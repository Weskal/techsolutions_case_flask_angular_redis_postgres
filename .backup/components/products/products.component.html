<div class="products-container">
  <header class="header">
    <nav class="navbar">
      <div class="logo">
        <h1>ü¶à Shark Gaming</h1>
      </div>
      <ul class="nav-links">
        <li><a routerLink="/home">In√≠cio</a></li>
        <li><a routerLink="/products" class="active">Produtos</a></li>
        <li><a (click)="logout()" class="logout-link">Sair</a></li>
      </ul>
    </nav>
  </header>

  <div class="content">
    <div class="page-header">
      <h2>Gerenciamento de Produtos</h2>
      <button class="btn-add" (click)="openCreateForm()">+ Adicionar Produto</button>
    </div>

    <div *ngIf="successMessage" class="success-message">
      {{ successMessage }}
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <!-- Formul√°rio Modal -->
    <div class="modal" *ngIf="showForm">
      <div class="modal-content">
        <div class="modal-header">
          <h3>{{ editMode ? 'Editar Produto' : 'Novo Produto' }}</h3>
          <button class="close-btn" (click)="closeForm()">&times;</button>
        </div>

        <form (ngSubmit)="saveProduct()">
          <div class="form-group">
            <label for="name">Nome do Produto</label>
            <input 
              type="text" 
              id="name" 
              [(ngModel)]="currentProduct.name" 
              name="name"
              placeholder="Ex: Mouse Gamer RGB"
              required
            >
          </div>

          <div class="form-group">
            <label for="brand">Marca</label>
            <input 
              type="text" 
              id="brand" 
              [(ngModel)]="currentProduct.brand" 
              name="brand"
              placeholder="Ex: Razer, Logitech, HyperX"
            >
          </div>

          <div class="form-group">
            <label for="price">Pre√ßo (R$)</label>
            <input 
              type="number" 
              id="price" 
              [(ngModel)]="currentProduct.price" 
              name="price"
              step="0.01"
              placeholder="0.00"
              required
            >
          </div>

          <div class="form-actions">
            <button type="button" class="btn-cancel" (click)="closeForm()">Cancelar</button>
            <button type="submit" class="btn-save">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Tabela de Produtos -->
    <div class="products-table">
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Marca</th>
            <th>Pre√ßo</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products">
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.brand }}</td>
            <td>R$ {{ product.price | number:'1.2-2' }}</td>
            <td>
              <button class="btn-edit" (click)="openEditForm(product)">Editar</button>
              <button class="btn-delete" (click)="deleteProduct(product.id)">Excluir</button>
            </td>
          </tr>
          <tr *ngIf="products.length === 0">
            <td colspan="5" class="no-products">Nenhum produto cadastrado</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>